{"name":"Tranquility","tagline":"PHP Content Management Framework","body":"### Features\r\n* Easy to install and use\r\n* Normal work on cheap hostings\r\n* Web/PDA automatic difference\r\n* Solutions difference\r\n* BSD license\r\n\r\n### Composition\r\n* Bootstrap 3 RC2 + jQuery 2\r\n* Twig template engine + plural ends extension\r\n* Uri-match routing + basic application architecture\r\n* Many global singletons (oh god, why?)\r\n* LocalizedDate.JS\r\n\r\n### Requirements\r\n* php 5.2.4\r\n* pdo mysql\r\n* mb_ (optional)\r\n\r\n### Production install\r\n* Turn off developer mode in config/config.php\r\n\r\n### Example apache configuration\r\n```apache\r\n<VirtualHost *>\r\n    ServerName turbo.local\r\n\tDocumentRoot \"/path/to/tranquility/webroot\"\r\n\r\n\t<Directory /path/to/tranquility/webroot>\r\n        DirectoryIndex index.php index.html\r\n        AllowOverride All\r\n        Order allow,deny\r\n        Allow from all\r\n    </Directory>\r\n</VirtualHost>\r\n```\r\n\r\n### Cheap hosting webroot placement\r\nYou can rename webroot so as you like. For example: htdocs (as default hosting directory) or www\r\n\r\n## Quick start\r\nHi developer. Im told you some basic information about Tranquility. Whats that Tranquility? Tranquility its a content management framework, for increase your php site development speed. You may use ready solutions and make custom. Solutions are portable so as Symfony bundles. Okay, now study framework architecture:\r\n\r\n### Framework architecture\r\n* __config__ - project configuration directory. Main configuration file config.php and router configuration like routes.php are places here.\r\n* __controllers__ - project controllers directory. Controller its simple php class whis public static methods, callable by router.\r\n* __solutions__ - (DRY development) ready usefull solutions for something. Its may be admin panel, blog, internet shop and more more more... Dont repeat yourself!\r\n* __system__ - framework scripts. Included cache and classes directories.\r\n* __testing__ - this directory containes some scripts for framework test.\r\n* __vendor__ - twig places here.\r\n* __views__ - twig templates are placed here.\r\n* __webroot__ - site root (/). index.php, js, css, images and robots.txt are placed here.\r\n\r\n### Solutions\r\nSolution its a subproject, ready for use. Solution architecture resembles a framework architecture. May be include __controllers__, __models__ and __views__ directories (MVC), and as well as some scripts: `__init__.php` and `routes.php`.\r\n\r\n### Routing\r\nConsider __config/routes.php__ script. It is a simple associative array with keys (regular expressions routes) and values (targets). Key example: `/hello/(\\S+)/?`. Value it is a string or array of strings. If you want call view, just write view name, without extension (e.g. hello for views/hello.html.twig). For controller call - write first letter as exclamation mark (!). Variants: `!controller:method`, `!solution:controller:method`. Write sample:\r\n\r\n```php\r\n<?php\r\n/** file: config/routes.php */\r\nreturn array(\r\n    '/hello/world' => 'hello',\r\n);\r\n```\r\n<hr>\r\n```html\r\n<!-- file: views/hello.html.twig -->\r\nHello <b>developer</b>\r\n```\r\n\r\nNow, go to __/hello/world__ and see \"Hello developer\". Ð¡omplicate it:\r\n\r\n```php\r\n<?php\r\n/** file: config/routes.php */\r\nreturn array(\r\n    '/hello/(\\S+)' => array('!hello:demo', 'hello'),\r\n);\r\n```\r\n<hr>\r\n```php\r\n<?php\r\n/** file: controllers/Hello.php */\r\nclass Hello {\r\n    public static function demo($matches) {\r\n        Process::$context['name'] = $matches[1];\r\n    }\r\n}\r\n```\r\n<hr>\r\n```html\r\n<!-- file: views/hello.html.twig -->\r\nHello <b>{{ name }}</b>\r\n```\r\n\r\nAfter, go to `/hello/world` and see \"Hello world\". Fuck yea =)\r\n\r\n### Process class\r\nProcess it is a global control class with static variables and methods. The main of them:\r\n* `Process::$context` - associative array, which contains twig template variables.\r\n* `Process::getTwigInstance()` - simple singleton method, which returns Twig_Environment, for manually work with templates.\r\n\r\n```php\r\n<?php\r\n/** file: controllers/Hello.php */\r\nclass Hello {\r\n    public static function demo() {\r\n        echo \"<pre>\";\r\n        print_r(Process::$context);\r\n    }\r\n}\r\n```\r\n\r\nAfter run this code you will see:\r\n```php\r\narray (\r\n    mobile => false,\r\n    resource => array(...),\r\n    uri => /hello/world,\r\n    cms => array(...),\r\n)\r\n```\r\n<hr>\r\n* `Process::$context['mobile']` - Whether the current user is sitting from mobile phone?\r\n* `Process::$context['resource']` - array from config.php, __resources__ directive.\r\n* `Process::$context['uri']` - current uri (string), without QUERY_STRING.\r\n* `Process::$context['cms']` - array from config.php, __cms__ directive (for standard solution).\r\n\r\n### Standard solution\r\n\"Standard\" solution includes admin panel and news feed. Go to `/admin/` uri and enter login: __Admin__, password: __123456__. You will see news manager, users editor, roles editor, session monitor and cron stress runner.\r\n\r\n### Configuration directives\r\n* `developer_mode` - turn it off (as false) for increase site speed.\r\n* `solutions` - array of names of included solutions.\r\n* `always_mobile` - boolean directive for mobile version debugging.\r\n* `server_timezone` - server timezone name, default 'Europe/Moscow'.\r\n* `resources` - callable from templates (e.g. `{{ resource.jquery_js }}`).\r\n* `pdo` - array of pdo configuration. Contains __dsn__, __username__ and __password__.\r\n* `security_token` - secret key for passwords generation, cross site request forgery protection and more.\r\n* `session` - array, which contains __bot_role__, __guest_role__, __lifetime_hours__, __referers__ and __garbage_auto_dump__ directives.\r\n* `cms` - array for __standard__ solution configuration.","google":"UA-43235672-1","note":"Don't delete this file! It's used internally to help with page regeneration."}