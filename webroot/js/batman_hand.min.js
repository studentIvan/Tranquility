batmanHand={navigate:function(a,b){if(a){a=a.replace(/^(?:\/)?((?:[^\/]+)(?:.*)?)?$/g,"/$1");b=b||document.title;history.pushState({p:a,t:b},b,a);this.callback(a,b)}},init:function(a,b){if(typeof history.pushState!=="undefined"){b=b||"a";this.callback=a;var c=document.location.pathname||"/";history.replaceState({p:c,t:document.title},document.title);var d=document.getElementsByTagName(b),e=0,f;while(f=d.item(e++)){if(f.getAttribute("data-history")){f.onclick=function(){batmanHand.navigate(this.getAttribute("href"),this.getAttribute("data-history"));return false}}}window.addEventListener("popstate",function(a){batmanHand.navigate(a.state.p,a.state.t)},false)}}}